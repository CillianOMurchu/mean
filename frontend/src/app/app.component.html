<div class="${TW_CLASSES.container}">
  <app-navbar (toggleSidenav)="toggleSidenav()"></app-navbar>

  <mat-sidenav-container class="${TW_CLASSES.sidenavContainer}">
    <mat-sidenav
      #drawer
      [opened]="drawerOpen()"
      [mode]="sidenavMode()"
      position="start"
      class="${TW_CLASSES.sidenav} !border-r-0"
    >
      <div class="p-4">
        <h3 class="text-lg font-semibold text-gray-700 mb-4 border-b pb-2">
          Navigation
        </h3>
        <mat-nav-list class="space-y-1">
          @for (item of navItems; track item.route) {
            <a
              mat-list-item
              [class]="[
                'flex items-center',
                TW_CLASSES.navItem,
                activeRoute() === item.route
                  ? TW_CLASSES.activeItem
                  : 'text-gray-600',
              ]"
              (click)="setActiveRoute(item.route); closeSidenavOnSmallScreen()"
              href="#"
            >
              <mat-icon class="mr-3">{{ item.icon }}</mat-icon>
              <span>{{ item.label }}</span>
            </a>
          }
        </mat-nav-list>
      </div>
    </mat-sidenav>

    <!-- Main Content Area -->
    <mat-sidenav-content class="${TW_CLASSES.mainContent}">
      <!-- Content based on active route -->
      <div class="rounded-lg shadow-xl p-6 bg-white min-h-[calc(100vh-140px)]">
        <h1 class="text-3xl font-light text-gray-800 mb-4">
          {{ activeRoute() }} Dashboard
        </h1>
        <p class="text-gray-600">
          This is the main content area for the {{ activeRoute() }} view. The
          sidenav dynamically switches between 'over' (mobile) and 'side'
          (desktop) mode, and uses signals for reactive state management.
        </p>
        <div
          class="mt-8 p-4 bg-indigo-50 border-l-4 border-indigo-500 text-indigo-900 rounded-r"
        >
          <p>
            Current Mode:
            <span class="font-mono font-medium">{{ sidenavMode() }}</span>
          </p>
          <p>
            Is Large Screen:
            <span class="font-mono font-medium">{{ isLargeScreen() }}</span>
          </p>
        </div>
      </div>
      <main>
        <router-outlet></router-outlet>
      </main>
    </mat-sidenav-content>
  </mat-sidenav-container>

  <app-footer></app-footer>
</div>
